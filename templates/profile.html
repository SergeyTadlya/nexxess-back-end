{% extends 'base.html' %}
{% load static %}
{% load account %}
{% load socialaccount %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/my-account.css' %}" />
{% endblock %}


{% block left_menu %}
  <div class="aside-info">
    <div class="aside-info__box">
      <div class="aside-info__box-top">
        <img class="aside-info__top-img" src="{% static 'images/important.svg' %}" alt="icon">
        <h6 class="aside-info__top-title">Important</h6>
        <p class="aside-info__top-number">2</p>
      </div>
      <ul class="aside-info__box-list">
        <li class="aside-info__box-item">
          <p class="aside-info__box-text">Your current service:</p>
          <p class="aside-info__box-money">Bronze</p>
        </li>
        <li class="aside-info__box-item">
          <p class="aside-info__box-text">New servises this month:</p>
          <p class="aside-info__box-money">2</p>
        </li>
        <li class="aside-info__box-item">
          <p class="aside-info__box-text">Actual discounts:</p>
          <p class="aside-info__box-money">10%</p>
        </li>
      </ul>
    </div>

     <div class="aside-info__accordion">
      <div id="aside-info__accordion-top" class="aside-info__accordion-top">
        <img class="aside-info__top-img" src="{% static 'images/services.svg' %}" alt="icon">
        <h6 class="aside-info__top-title">Your services</h6>
        <img class="aside-info__top-arrow" src="{% static 'images/chevron-down.svg' %}" alt="icon">
      </div>
      <ul class="aside-info__accordion-list">
        <li class="aside-info__accordion-item">
          <a class="aside-info__accordion-link" href="#">Your service #1</a>
        </li>
        <li class="aside-info__accordion-item">
          <a class="aside-info__accordion-link" href="#">Your service #2</a>
        </li>
      </ul>
    </div>


    <div class="aside-info__accordion">
      <div id="aside-info__accordion-top" class="aside-info__accordion-top">
        <img class="aside-info__top-img" src="{% static 'images/tickets.svg' %}" alt="icon">
        <h6 class="aside-info__top-title">Tickets</h6>
        <img class="aside-info__top-arrow" src="{% static 'images/chevron-down.svg' %}" alt="icon">
      </div>

      <ul class="aside-info__accordion-list">
        <li class="aside-info__accordion-item">
          <a class="aside-info__accordion-link" href="#">
            <p class="aside-info__accordion-text">Ongoing</p>
            <p class="aside-info__accordion-number font--green">0</p>
          </a>
        </li>
        <li class="aside-info__accordion-item">
          <a class="aside-info__accordion-link" href="#">
            <p class="aside-info__accordion-text">Overdue</p>
            <p class="aside-info__accordion-number font--red">0</p>
          </a>
        </li>
      </ul>
    </div>
  </div>
{% endblock %}

{% block cabinet %}
<form id="cabinet__info" class="cabinet__info" method="post" action="{% url 'account_logout' %}">
  {% csrf_token %}
  <div class="cabinet__info-inner">
    <img class="cabinet__info-img" src="/media/{{ user.photo }}">
  </div>

  <ul class="cabinet__info-list">
    <li class="cabinet__info-item">
      <p class="cabinet__info-text">First name</p>
      <input class="cabinet__info-input" type="text" placeholder="{{ user.first_name }}" disabled>
    </li>

    <li class="cabinet__info-item">
      <p class="cabinet__info-text">Last name</p>
      <input class="cabinet__info-input" type="text" placeholder="{{ user.last_name }}" disabled>
    </li>

    <li class="cabinet__info-item">
      <p class="cabinet__info-text">Email</p>
      <input class="cabinet__info-input" type="email" placeholder="{{ user.email }}" disabled>
    </li>

    <li class="cabinet__info-item">
      <p class="cabinet__info-text">Username</p>
      <input class="cabinet__info-input" type="text" placeholder="{{ user.username }}" disabled>
    </li>
  </ul>

  <div class="cabinet__info-buttons">
    <button id="cabinet__btn-edit" class="cabinet__info-button" type="button">Edit</button>
    {% if redirect_field_value %}
        <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
    {% endif %}
    <button class="cabinet__info-button" type="submit">Log out</button>
  </div>
</form>

<form id="cabinet__edit" class="cabinet__edit" method="post" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="cabinet__edit-inner">
    <label class="cabinet__edit-label" title="insert a new picture">
      <img class="cabinet__edit-img" id="cabinet__edit-img" src="/media/{{ user.photo }}">
      <input class="cabinet__edit-file" id="cabinet__edit-file" type="file" name="profile_image" accept="image/*">
    </label>
  </div>

  <ul class="cabinet__edit-list">
    <li class="cabinet__edit-item">
      <p class="cabinet__edit-text">First name</p>
      <input class="cabinet__edit-input" type="text" id="first_name" name="first_name" placeholder="First name">
    </li>

    <li class="cabinet__edit-item">
      <p class="cabinet__edit-text">Last name</p>
      <input class="cabinet__edit-input" type="text" id=last_name name="last_name" placeholder="Last name">
    </li>

    <li class="cabinet__edit-item">
      <p class="cabinet__edit-text">Username</p>
      <input class="cabinet__edit-input" type="text" id="username" name="username">
    </li>

    <li class="cabinet__edit-item">
      <p class="cabinet__edit-text">Current password</p>
      <input class="cabinet__edit-input" type="password" id="old_password" name="old_password" placeholder="Enter your current password">
    </li>

    <li class="cabinet__edit-item">
      <p class="cabinet__edit-text">New Password</p>
      <input class="cabinet__edit-input" type="password" id="new_password" name="new_password" placeholder="Enter a new password">
    </li>
  </ul>

  <div class="cabinet__edit-buttons">
    <button class="cabinet__edit-button" id="save-profile" type="submit" >Save</button>
    <button id="cabinet__btn-cancel" class="cabinet__edit-button" type="button">Cancel</button>
  </div>
</form>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/jquery-3.6.4.min.js' %}"></script>
  <script src="{% static 'js/jquery-ui.min.js' %}"></script>
  <script src="{% static 'js/my-account.js' %}"></script>
  <script src="{% static 'ajax/profile_ajax.js' %}"></script>
{% endblock %}
